# برومبت تطوير لوحة تحكم الحجوزات - إدارة الإتاحة والتسعير

## المطلوب الرئيسي
قم بتطوير نظام إدارة **الإتاحة والتسعير** للوحدات والكيانات في لوحة تحكم تطبيق الحجوزات.

## 1. التعديل على جدول الوحدات والكيانات

### إضافة أعمدة جديدة:
- عمود **"إدارة الإتاحة"** - يحتوي على زر أو أيقونة
- عمود **"إدارة التسعير"** - يحتوي على زر أو أيقونة
- إضافة هذين العمودين لكل سطر في الجدول

## 2. صفحة إدارة الإتاحة

### التصميم المطلوب:
- **عرض بصري للوحدات**: 
  - مربعات بتصميم card/grid layout
  - مربعات خضراء شفافة للوحدات المتاحة
  - مربعات حمراء شفافة للوحدات غير المتاحة
  - إضافة أيقونات وعلامات واضحة (✓ للمتاح، ✗ للغير متاح)

### التفاعل مع المربعات:
عند النقر على أي مربع (وحدة):
- **قسم التقويم**: يظهر في الأعلى أو في sidebar
- **اختيار التواريخ**: تقويم تفاعلي لاختيار فترات زمنية
- **اختيار الأوقات**: منتقي الوقت (time picker)
- **نوع التغيير**: خيارات مثل (صيانة، إجازة، حجز خاص، إلخ)

### المنطق والتحقق:
- **فحص الحجوزات الموجودة**: التحقق من وجود حجوزات في الفترة المحددة
- **تحذيرات**: إظهار رسائل تحذيرية إذا كان هناك حجوزات مؤكدة
- **خيارات الحل**: اقتراح بدائل (نقل الحجز، إلغاء، إلخ)
- **صلاحيات**: التحقق من صلاحية المستخدم لتعديل الإتاحة

## 3. صفحة إدارة التسعير

### التصميم المطلوب:
- **نفس التخطيط** الخاص بصفحة الإتاحة
- **ألوان مختلفة**: استخدام ألوان تدل على مستويات الأسعار
  - أخضر: أسعار عادية
  - أصفر: أسعار مرتفعة
  - أحمر: أسعار ذروة/عالية جداً

### التفاعل والتحكم:
عند النقر على مربع الوحدة:
- **تقويم التسعير**: لاختيار الفترات الزمنية
- **إدخال الأسعار**: حقول لإدخال الأسعار الجديدة
- **أنواع الأسعار**: (عادي، نهاية الأسبوع، موسمي، مناسبات)
- **نسب الخصم/الزيادة**: خيار لتطبيق نسب مئوية

### المنطق والتحقق:
- **فحص الحجوزات المدفوعة**: التحقق من الحجوزات المؤكدة والمدفوعة
- **تأثير التغيير**: تحذير من تأثير تغيير السعر على الحجوزات الموجودة
- **حد أدنى وأعلى للأسعار**: تحديد نطاقات منطقية للأسعار

## 4. المتطلبات التقنية المطلوبة

### أنواع البيانات (Types/Interfaces):
```typescript
// أمثلة للأنواع المطلوبة
- UnitAvailability
- PricingRule  
- BookingConflict
- AvailabilityStatus
- PricingTier
```

### الخدمات (Services):
```typescript
// أمثلة للخدمات
- AvailabilityService
- PricingService  
- BookingValidationService
- ConflictResolutionService
```

### الصفحات والمكونات:
```typescript
// صفحات
- AvailabilityManagementPage
- PricingManagementPage

// مكونات
- AvailabilityGrid
- PricingGrid
- DateRangeCalendar
- TimePicker
- ConflictWarningModal
- PriceInputForm
```

### الهوكس (Hooks):
```typescript
// هوكس مخصصة
- useAvailability
- usePricing
- useBookingConflicts
- useDateRange
- useValidation
```

## 5. متطلبات التصميم والتجربة

### التصميم:
- **تصميم احترافي**: استخدام مكتبة UI حديثة (Material-UI, Ant Design, أو مخصص)
- **ألوان متناسقة**: نظام ألوان واضح ومتسق
- **انتقالات سلسة**: animations للتفاعلات
- **تصميم متجاوب**: يعمل على جميع الشاشات

### التجربة:
- **سهولة الاستخدام**: واجهة بديهية وواضحة
- **ردود فعل فورية**: loading states و feedback للمستخدم
- **معالجة الأخطاء**: رسائل خطأ واضحة وحلول مقترحة
- **تأكيد الإجراءات**: dialogs للتأكيد قبل التغييرات المهمة

## 6. الوظائف الإضافية المطلوبة

### إدارة الصراعات:
- **كشف التعارض**: التحقق من تعارض الحجوزات مع تغييرات الإتاحة
- **حلول بديلة**: اقتراح حلول للتعارضات

## 7. ملاحظات مهمة للتطوير

### التوافق مع الباك إند:
- **API endpoints**: تحديد نقاط الاتصال المطلوبة
- **بنية البيانات**: توافق مع قاعدة البيانات
- **معالجة الأخطاء**: التعامل مع أخطاء الخادم

---

**ملاحظة**: هذا التصميم يجب أن يكون متوافقاً مع النظام الحالي وقابل للتوسع مستقبلياً. سيتم تطوير الـ Frontend فقط، والـ Backend سيتم تطويره بشكل منفصل ومتوافق.