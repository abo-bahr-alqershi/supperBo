# البرومبت الاحترافي لإكمال لوحة التحكم - نظام الحجوزات

## نظرة عامة على المشروع
أنت تعمل على إكمال **لوحة التحكم الإدارية** لنظام حجوزات شامل (فنادق، سيارات، إلخ) باستخدام React TypeScript + Vite. طبقة الخدمات والأنواع مكتملة.

## 🎯 مهمتك المحددة بدقة:
**إنشاء طبقات متكاملة مع ضمان التوافق مع طبقة الخدمات والأنواع:**
1. **ملفات العناصر (Components)** - العناصر القابلة لإعادة الاستخدام
2. **ملفات الواجهات (Pages)** - صفحات التطبيق الكاملة
3. **ملفات التخطيط (Layouts)** - هياكل التخطيط
4. **ملفات التوجيه (Routing)** - نظام التنقل
5. **ملفات Hooks المطلوبة** - Custom hooks متوافقة مع الخدمات
6. **ملفات Stores المطلوبة** - إدارة الحالة متوافقة مع الخدمات
7. **ملفات Utils المطلوبة** - وظائف مساعدة متوافقة مع الخدمات

## 🚫 ما لا يجب فعله:
- **عدم تعديل أو إضافة خدمات** (Services Layer)
- **عدم تعديل الأنواع** (Types Layer)

## 🔄 الالتزام بالتوافق:
- **التوافق المطلق مع طبقة الخدمات**: كل عنصر وصفحة يجب أن تتوافق تمامًا مع الخدمات والأنواع الموجودة
- **إنشاء طبقات متكاملة**: يجب إنشاء hooks، stores، utils بما يتوافق مع الخدمات الموجودة
- **عدم تعديل الخدمات أو الأنواع**: مهمتك فقط إنشاء الطبقات المكملة دون تعديل الخدمات أو الأنواع

## 🌐 متطلبات اللغة والتصميم:
- **اللغة العربية**: كل النصوص والمحتوى باللغة العربية
- **RTL Support**: دعم كامل للكتابة من اليمين لليسار
- **التصميم العربي**: واجهات مناسبة للمستخدم العربي

## التعليمات الأساسية

### 🎯 الأولوية القصوى
- **التوافق المطلق مع طبقة الخدمات**: كل عنصر وصفحة يجب أن تتوافق تمامًا مع الخدمات والأنواع الموجودة
- **إنشاء طبقات متكاملة متوافقة**: بناء hooks، stores، utils بما يخدم الخدمات الموجودة
- **عدم تعديل الخدمات أو الأنواع**: مهمتك فقط إنشاء الطبقات المكملة
- **التصميم العربي الكامل**: كل شيء بالعربية مع دعم RTL

### 🏗️ معمارية المشروع
```
src/
├── components/          # العناصر المشتركة
├── pages/              # صفحات التطبيق
├── layouts/            # تخطيط الصفحات
├── routes/             # التوجيه
├── hooks/              # [ينشأ] - Custom hooks متوافقة مع الخدمات
├── stores/             # [ينشأ] - State management متوافقة مع الخدمات
├── utils/              # [ينشأ] - Utility functions متوافقة مع الخدمات
├── services/           # [موجود] - API calls
└── types/              # [موجود] - TypeScript types
```

## متطلبات التنفيذ

### 📋 إدارة حالة النظام
- **تحميل وحفظ البيانات التأسيسية عند بداية النظام**:
  - أنواع Properties وأنواع Units
  - الحقول الديناميكية ومجموعاتها
  - إعدادات النظام
- **تنفيذ هذا عند تسجيل الدخول أو فتح النظام للمستخدمين المسجلين**

### 🖼️ معرض الصور (PropertyImage)
- **نظام معرض صور متكامل** للمستخدمين
- **إمكانية إنشاء ورفع وإدارة الصور**
- **ربط الصور بالـ Properties أو Units**
- **عرض مستوى التقدم الفعلي عند رفع الصور** (Progress bar)

### 📊 طرق عرض البيانات
**لـ Properties و Units، يجب توفير 3 طرق عرض**:
1. **عرض الجدول**: جدول تفاعلي مع فلترة وترتيب
2. **عرض الكروت**: كروت جميلة ومعلوماتية
3. **عرض الخريطة**: خريطة تفاعلية جميلة

### 🔗 التصميم المترابط
- **التنقل المتداخل**: من أي صفحة يمكن الانتقال للصفحات ذات الصلة
- **مثال**: من إدارة الحجوزات → عرض بروفايل المستخدم → عرض تقييماته

### 📢 نظام الإشعارات
- **إرسال إشعارات عامة** لكل المستخدمين
- **إرسال إشعارات محددة** لمستخدم معين
- **إمكانية الإرسال من صفحة إدارة الإشعارات أو من صفحة إدارة المستخدمين**

## الطبقات المطلوبة

### 🎣 طبقة Hooks
**إنشاء hooks متوافقة مع الخدمات الموجودة:**
- **useAuth**: للمصادقة والجلسات
- **useEntity**: لإدارة الكيانات (Properties, Units, Bookings, إلخ)
- **useApi**: لاستدعاء APIs
- **useNotifications**: لإدارة الإشعارات
- **usePermissions**: لإدارة الصلاحيات
- **useImageUpload**: لرفع الصور
- **hooks أخرى**: حسب الحاجة من الخدمات

### 🗃️ طبقة Stores
**إنشاء stores متوافقة مع الخدمات الموجودة:**
- **authStore**: حالة المصادقة
- **entitiesStore**: حالة الكيانات الرئيسية
- **uiStore**: حالة واجهة المستخدم
- **notificationsStore**: حالة الإشعارات
- **stores أخرى**: حسب الحاجة من الخدمات

### 🛠️ طبقة Utils
**إنشاء utils متوافقة مع الخدمات الموجودة:**
- **formatters**: تنسيق البيانات
- **validators**: التحقق من صحة البيانات
- **transformers**: تحويل البيانات
- **helpers**: وظائف مساعدة
- **constants**: الثوابت المطلوبة
- **utils أخرى**: حسب الحاجة من الخدمات

## الصفحات المطلوبة

### 🏠 تحديد الصفحات المطلوبة
**لا تعتمد على قائمة محددة مسبقاً** - يجب عليك:

1. **تحليل طبقة الخدمات بدقة** لفهم جميع الكيانات والعمليات
2. **استنباط الصفحات المطلوبة** من الخدمات الموجودة
3. **إنشاء صفحة إدارة لكل كيان** له خدمات CRUD
4. **إنشاء صفحات فرعية** للعمليات المتخصصة
5. **إنشاء لوحة معلومات رئيسية** (Dashboard) شاملة

### 📊 أنواع الصفحات المتوقعة
- **صفحات الإدارة الرئيسية**: لكل كيان أساسي
- **صفحات التفاصيل**: عرض وتحرير العناصر الفردية
- **صفحات الإعدادات**: للكيانات التكوينية
- **صفحات التقارير**: إذا وجدت خدمات تقارير
- **صفحات أخرى**: حسب الخدمات المتاحة

## المعايير التقنية

### 💻 تقنيات التطوير
- **React 18+ مع TypeScript**
- **Vite كأداة البناء**
- **مكتبات UI حديثة** مع دعم RTL (Ant Design, Material-UI, أو مماثل)
- **إدارة الحالة**: Context API أو Zustand أو Redux Toolkit
- **دعم اللغة العربية** و RTL في كل العناصر
- **تصميم متجاوب** (Responsive design) كامل

### 🎨 معايير التصميم
- **واجهة مستخدم عربية حديثة ومتجاوبة**
- **دعم RTL كامل** في كل العناصر
- **تجربة مستخدم سلسة** للمستخدم العربي
- **تصميم متسق** عبر كل الصفحات
- **إمكانية الوصول** (Accessibility) مع دعم العربية

### 🚀 معايير التصميم المتقدم
- **عناصر إدخال احترافية**: تجنب الحلول البدائية مثل الـ Dialogs البسيطة
- **إدخال البيانات داخل الصفحة**: بدلاً من النوافذ المنبثقة، استخدم التحرير المباشر (inline editing)
- **تصميم مؤسسي**: مماثل لأنظمة الشركات الكبيرة (مثل Microsoft Office, Google Workspace)
- **فورمات متطورة**: حتى للبيانات البسيطة، استخدم عناصر تفاعلية ومتطورة
- **تجربة مستخدم سلسة**: عدم مقاطعة المستخدم بنوافذ منبثقة إلا عند الضرورة القصوى
- **أمثلة للتصميم المتقدم**:
  - **تحرير مباشر**: النقر على النص لتحريره
  - **panels منزلقة**: بدلاً من الـ modals
  - **Expandable forms**: النماذج القابلة للتوسع
  - **Contextual menus**: القوائم السياقية المتطورة

### 📱 الاستجابة والأداء
- **تحميل سريع** للصفحات
- **تجربة سلسة** على الهواتف والأجهزة اللوحية
- **إدارة حالة تحميل** مناسبة

## قواعد العمل

### ✅ ما يجب فعله
- **تحليل طبقة الخدمات والأنواع بدقة** قبل البدء
- **إنشاء ملف تتبع المهام** وتحديثه باستمرار
- **إنشاء hooks وstores وutils متوافقة** مع الخدمات الموجودة
- **التوثيق العربي الواضح** لكل عنصر وصفحة
- **التصميم بالعربية مع دعم RTL** الكامل
- **اختبار التوافق** مع الخدمات باستمرار
- **التركيز على إنشاء طبقات متكاملة** مع ضمان التوافق
- **استخدام تصميم مؤسسي متطور** مماثل لأنظمة الشركات الكبيرة
- **تجنب الحلول البدائية** في عناصر الإدخال والتفاعل

### ❌ ما يجب تجنبه
- **عدم تعديل أو إضافة خدمات** (Services Layer)
- **عدم تعديل الأنواع** (Types Layer)
- **عدم إنشاء طبقات غير متوافقة** مع الخدمات الموجودة
- **عدم تجاهل دعم RTL** في أي عنصر
- **عدم استخدام نصوص إنجليزية** في واجهات المستخدم
- **تجنب الـ Dialogs والـ Modals البسيطة** للإدخال
- **تجنب عناصر الإدخال البدائية** (مثل alert, confirm, prompt)
- **عدم استخدام أساليب المطورين المبتدئين** في التصميم

## مهام خاصة

### 🖼️ محرر الصور (مهمة أخيرة)
**انتبه: هذه المهمة تنفذ في النهاية فقط**
- **تحرير الصور قبل وبعد الرفع**
- **ميزات**: اقتصاص، كتابة على الصور، فلاتر
- **استخدام أفضل المكتبات المتاحة**
- **واجهة مستخدم بديهية**

## تسلسل العمل

### 1️⃣ المرحلة الأولى: التحليل والتخطيط
- **تحليل طبقة الخدمات والأنواع بدقة شديدة**
- **استنباط جميع الصفحات المطلوبة من الخدمات**
- **تحديد الطبقات المطلوبة** (Hooks, Stores, Utils)
- **إنشاء ملف تتبع المهام**

### 2️⃣ المرحلة الثانية: البناء الأساسي للطبقات
- **إنشاء طبقة Utils الأساسية**
- **إنشاء طبقة Stores الأساسية**
- **إنشاء طبقة Hooks الأساسية**
- **اختبار التوافق مع الخدمات**

### 3️⃣ المرحلة الثالثة: البناء الأساسي للواجهة
- **إنشاء التخطيط الأساسي**
- **بناء نظام التوجيه**
- **إنشاء العناصر المشتركة**

### 4️⃣ المرحلة الرابعة: الصفحات الأساسية
- **لوحة المعلومات الرئيسية** (Dashboard)
- **صفحات إدارة الكيانات الأساسية** (حسب الخدمات)
- **صفحات الإعدادات الأساسية**

### 5️⃣ المرحلة الخامسة: الصفحات المتخصصة
- **الصفحات المتخصصة** (حسب الخدمات المتاحة)
- **صفحات التفاصيل والتحرير**
- **الصفحات الفرعية**

### 6️⃣ المرحلة السادسة: التحسينات والتشطيبات
- **التصميم المترابط**
- **تحسين الأداء**
- **التوثيق النهائي**

### 7️⃣ المرحلة الأخيرة: الميزات المتقدمة
- **المحرر المتقدم للصور** (إذا كان مطلوباً)
- **أي ميزات متخصصة أخرى**

## تعليمات مهمة

### 🔄 في حالة التوقف أو فقدان السياق
- **العودة لهذا البرومبت**
- **مراجعة ملف تتبع المهام**
- **الاستكمال من النقطة الأخيرة**

### 🤝 التواصل أثناء العمل
- **أبلغ عن أي تحديات في إنشاء الطبقات**
- **اطلب التوضيح** عند الحاجة لفهم الخدمات
- **تأكيد التوافق** قبل المتابعة

### 📝 التوثيق
- **كل عنصر وطبقة يجب أن تحتوي على توثيق عربي واضح**
- **تعليقات مفصلة** في الكود
- **دليل استخدام** للمطورين
- **توثيق التوافق** مع الخدمات

---

## بداية العمل

**قبل البدء**:
1. قم بتحليل طبقة الخدمات والأنواع بدقة
2. حدد الطبقات المطلوبة لضمان التوافق
3. إنشاء ملف تتبع المهام وابدأ العمل

**تذكر**: الهدف هو إنشاء لوحة تحكم احترافية ومتكاملة تخدم المسؤولين والملاك في إدارة نظام الحجوزات بكفاءة عالية، مع إنشاء طبقات متكاملة تضمن التوافق الكامل مع الخدمات والأنواع الموجودة.